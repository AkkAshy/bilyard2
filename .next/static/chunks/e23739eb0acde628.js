(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26732,e=>{"use strict";var r=e.i(47167);e.i(43476);var t=e.i(71645);class a extends Error{constructor(e,r){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...r}}):"string"==typeof e?(r instanceof Error&&(r={err:r,...r.cause}),super(e,r)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);const t=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${t}`}}class n extends a{}async function s(e,r,t,a={}){let i=`${o(r)}/${e}`;try{let e={headers:{"Content-Type":"application/json",...a?.headers?.cookie?{cookie:a.headers.cookie}:{}}};a?.body&&(e.body=JSON.stringify(a.body),e.method="POST");let r=await fetch(i,e),t=await r.json();if(!r.ok)throw t;return t}catch(e){return t.error(new n(e.message,e)),null}}function o(e){return"undefined"==typeof window?`${e.baseUrlServer}${e.basePathServer}`:e.basePath}function i(e){let r=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e=`https://${e}`);let t=new URL(e||r),a=("/"===t.pathname?r.pathname:t.pathname).replace(/\/$/,""),n=`${t.origin}${a}`;return{origin:t.origin,host:t.host,path:a,base:n,toString:()=>n}}let l={baseUrl:i(r.default.env.NEXTAUTH_URL??r.default.env.VERCEL_URL).origin,basePath:i(r.default.env.NEXTAUTH_URL).path,baseUrlServer:i(r.default.env.NEXTAUTH_URL_INTERNAL??r.default.env.NEXTAUTH_URL??r.default.env.VERCEL_URL).origin,basePathServer:i(r.default.env.NEXTAUTH_URL_INTERNAL??r.default.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:()=>{}},d=null,c={debug:console.debug,error:console.error,warn:console.warn};async function u(){let e=await s("csrf",l,c);return e?.csrfToken??""}async function h(){return s("providers",l,c)}async function m(e,r,t){let{callbackUrl:a,...n}=r??{},{redirect:s=!0,redirectTo:i=a??window.location.href,...d}=n,c=o(l),m=await h();if(!m){let e=`${c}/error`;window.location.href=e;return}if(!e||!m[e]){let e=`${c}/signin?${new URLSearchParams({callbackUrl:i})}`;window.location.href=e;return}let g=m[e].type;if("webauthn"===g)throw TypeError(`Provider id "${e}" refers to a WebAuthn provider.
Please use \`import { signIn } from "next-auth/webauthn"\` instead.`);let f=`${c}/${"credentials"===g?"callback":"signin"}/${e}`,p=await u(),x=await fetch(`${f}?${new URLSearchParams(t)}`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...d,csrfToken:p,callbackUrl:i})}),w=await x.json();if(s){let e=w.url??i;window.location.href=e,e.includes("#")&&window.location.reload();return}let v=new URL(w.url).searchParams.get("error")??void 0,b=new URL(w.url).searchParams.get("code")??void 0;return x.ok&&await l._getSession({event:"storage"}),{error:v,code:b,status:x.status,ok:x.ok,url:v?null:w.url}}async function g(e){let{redirect:r=!0,redirectTo:t=e?.callbackUrl??window.location.href}=e??{},a=o(l),n=await u(),s=await fetch(`${a}/signout`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({csrfToken:n,callbackUrl:t})}),i=await s.json();if((null===d&&(d="undefined"==typeof BroadcastChannel?{postMessage:()=>{},addEventListener:()=>{},removeEventListener:()=>{},name:"next-auth",onmessage:null,onmessageerror:null,close:()=>{},dispatchEvent:()=>!1}:new BroadcastChannel("next-auth")),d).postMessage({event:"session",data:{trigger:"signout"}}),r){let e=i.url??t;window.location.href=e,e.includes("#")&&window.location.reload();return}return await l._getSession({event:"storage"}),i}t.createContext?.(void 0),e.s(["signIn",()=>m,"signOut",()=>g],26732)},18566,(e,r,t)=>{r.exports=e.r(76562)},94542,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(26732),n=e.i(18566);function s(){let[e,s]=(0,t.useState)(""),[o,i]=(0,t.useState)(""),[l,d]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),h=(0,n.useRouter)(),m=async r=>{r.preventDefault(),d(""),u(!0);try{let r=await (0,a.signIn)("credentials",{email:e,password:o,redirect:!1});r?.error?d("Неверный email или пароль"):(h.push("/dashboard"),h.refresh())}catch{d("Произошла ошибка. Попробуйте позже.")}finally{u(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-900 to-gray-800 relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 w-96 h-96 bg-green-500/5 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"}),(0,r.jsx)("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"}),(0,r.jsx)("div",{className:"relative max-w-md w-full mx-4",children:(0,r.jsxs)("div",{className:"bg-gradient-to-br from-gray-800/80 to-gray-800/40 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-gray-700/50",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl shadow-lg shadow-green-500/30 mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,r.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent mb-2",children:"Бильярд-клуб"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Вход в панель управления"})]}),(0,r.jsxs)("form",{onSubmit:m,className:"space-y-5",children:[l&&(0,r.jsxs)("div",{className:"flex items-center gap-3 bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-3 rounded-xl text-sm",children:[(0,r.jsx)("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),(0,r.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>s(e.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-gray-900/50 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500/50 focus:border-green-500/50 transition-all",placeholder:"admin@billiard.local",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Пароль"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,r.jsx)("input",{id:"password",type:"password",value:o,onChange:e=>i(e.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-gray-900/50 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500/50 focus:border-green-500/50 transition-all",placeholder:"••••••••",required:!0})]})]}),(0,r.jsx)("button",{type:"submit",disabled:c,className:"w-full py-3.5 px-4 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 disabled:from-green-800 disabled:to-green-900 disabled:cursor-not-allowed text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2 shadow-lg shadow-green-500/25 hover:shadow-green-500/40",children:c?(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Войти"]})})]}),(0,r.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-700/50 text-center",children:(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:"Billiard Management System"})})]})})]})}e.s(["default",()=>s])}]);