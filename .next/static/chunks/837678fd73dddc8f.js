(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},9165,e=>{"use strict";let t="http://localhost:8000/api/v1",r=(e,t)=>{localStorage.setItem("access_token",e),localStorage.setItem("refresh_token",t)},s=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("tenant_id")};async function a(e,o={}){let n=localStorage.getItem("access_token"),i=localStorage.getItem("tenant_id"),l={"Content-Type":"application/json",...o.headers||{}};n&&(l.Authorization=`Bearer ${n}`),i&&(l["X-Tenant-ID"]=i);let c=await fetch(`${t}${e}`,{...o,headers:l});if(401===c.status){let a=localStorage.getItem("refresh_token");if(a){let s=await fetch(`${t}/auth/refresh/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:a})});if(s.ok){let n=await s.json();return r(n.access,n.refresh||a),l.Authorization=`Bearer ${n.access}`,fetch(`${t}${e}`,{...o,headers:l})}}s(),window.location.href="/login"}return c}function o(e){return Array.isArray(e)?e:e.results||[]}e.s(["assets",0,{async list(e){let t=new URLSearchParams;e?.category&&t.set("category",String(e.category)),e?.active!==void 0&&t.set("active",String(e.active));let r=t.toString(),s=await a(`/assets/${r?`?${r}`:""}`);return o(await s.json())},get:async e=>(await a(`/assets/${e}/`)).json(),create:async e=>(await a("/assets/",{method:"POST",body:JSON.stringify(e)})).json(),update:async(e,t)=>(await a(`/assets/${e}/`,{method:"PATCH",body:JSON.stringify(t)})).json(),async delete(e){await a(`/assets/${e}/`,{method:"DELETE"})},getSessions:async e=>(await a(`/assets/${e}/sessions/`)).json()},"auth",0,{async login(e,s){var a;let o=await fetch(`${t}/auth/login/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:s})});if(!o.ok)throw Error((await o.json()).detail||"Ошибка авторизации");let n=await o.json();return r(n.access,n.refresh),n.tenants?.length>0&&(a=n.tenants[0].id,localStorage.setItem("tenant_id",a)),n},async me(){let e=await a("/auth/me/");if(!e.ok)throw Error("Не авторизован");return e.json()},logout(){s(),window.location.href="/login"}},"categories",0,{async list(){let e=await a("/categories/");return o(await e.json())},get:async e=>(await a(`/categories/${e}/`)).json(),create:async e=>(await a("/categories/",{method:"POST",body:JSON.stringify(e)})).json(),update:async(e,t)=>(await a(`/categories/${e}/`,{method:"PATCH",body:JSON.stringify(t)})).json(),async delete(e){await a(`/categories/${e}/`,{method:"DELETE"})}},"reports",0,{async summary(e){let t=new URLSearchParams;e?.from&&t.set("from",e.from),e?.to&&t.set("to",e.to),e?.groupBy&&t.set("groupBy",e.groupBy);let r=t.toString();return(await a(`/reports/summary/${r?`?${r}`:""}`)).json()},async revenue(e){let t=new URLSearchParams;e?.from&&t.set("from",e.from),e?.to&&t.set("to",e.to),e?.groupBy&&t.set("groupBy",e.groupBy);let r=t.toString();return(await a(`/reports/revenue/${r?`?${r}`:""}`)).json()},async assets(e){let t=new URLSearchParams;e?.from&&t.set("from",e.from),e?.to&&t.set("to",e.to);let r=t.toString();return(await a(`/reports/assets/${r?`?${r}`:""}`)).json()},getExportUrl(e,r){let s=new URLSearchParams;return s.set("format",e),r?.from&&s.set("from",r.from),r?.to&&s.set("to",r.to),`${t}/reports/export/?${s.toString()}`}},"sessions",0,{async list(e){let t=new URLSearchParams;e?.asset&&t.set("asset",String(e.asset)),e?.status&&t.set("status",e.status),e?.from&&t.set("from",e.from),e?.to&&t.set("to",e.to);let r=t.toString(),s=await a(`/sessions/${r?`?${r}`:""}`);return o(await s.json())},async start(e,t,r){let s=await a("/sessions/start/",{method:"POST",body:JSON.stringify({asset_id:e,planned_duration:t,metadata:r||{}})});if(!s.ok)throw Error((await s.json()).error||"Ошибка запуска сессии");return s.json()},async stop(e,t,r){let s=await a(`/sessions/${e}/stop/`,{method:"POST",body:JSON.stringify({payment_type:t,promotion_code:r})});if(!s.ok)throw Error((await s.json()).error||"Ошибка завершения сессии");return s.json()},cancel:async e=>(await a(`/sessions/${e}/cancel/`,{method:"POST"})).json()}])},94542,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),a=e.i(9165);function o(){let[e,o]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[d,m]=(0,r.useState)(!1),h=(0,s.useRouter)(),g=async t=>{t.preventDefault(),c(""),m(!0);try{await a.auth.login(e,n),h.push("/dashboard")}catch(e){c(e instanceof Error?e.message:"Произошла ошибка")}finally{m(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-900 to-gray-800 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-96 h-96 bg-green-500/5 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"}),(0,t.jsx)("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"}),(0,t.jsx)("div",{className:"relative max-w-md w-full mx-4",children:(0,t.jsxs)("div",{className:"bg-gradient-to-br from-gray-800/80 to-gray-800/40 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-gray-700/50",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl shadow-lg shadow-green-500/30 mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,t.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent mb-2",children:"RentFlow"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Система управления арендой"})]}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-5",children:[l&&(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-3 rounded-xl text-sm",children:[(0,t.jsx)("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Логин"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,t.jsx)("input",{id:"username",type:"text",value:e,onChange:e=>o(e.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-gray-900/50 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500/50 focus:border-green-500/50 transition-all",placeholder:"admin",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Пароль"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,t.jsx)("input",{id:"password",type:"password",value:n,onChange:e=>i(e.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-gray-900/50 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500/50 focus:border-green-500/50 transition-all",placeholder:"••••••••",required:!0})]})]}),(0,t.jsx)("button",{type:"submit",disabled:d,className:"w-full py-3.5 px-4 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 disabled:from-green-800 disabled:to-green-900 disabled:cursor-not-allowed text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2 shadow-lg shadow-green-500/25 hover:shadow-green-500/40",children:d?(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Войти"]})})]}),(0,t.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-700/50 text-center",children:(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"RentFlow Management System"})})]})})]})}e.s(["default",()=>o])}]);