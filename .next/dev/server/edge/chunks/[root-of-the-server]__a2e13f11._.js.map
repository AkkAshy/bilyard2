{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/lib/auth.config.ts"],"sourcesContent":["import type { NextAuthConfig } from \"next-auth\";\n\n// Легкая конфигурация для middleware (Edge Runtime)\n// Без bcrypt и Prisma\nexport const authConfig: NextAuthConfig = {\n  pages: {\n    signIn: \"/login\",\n  },\n  providers: [], // Провайдеры добавляются в auth.ts\n  callbacks: {\n    authorized({ auth, request: { nextUrl } }) {\n      const isLoggedIn = !!auth?.user;\n      const isLoginPage = nextUrl.pathname === \"/login\";\n      const isApiAuth = nextUrl.pathname.startsWith(\"/api/auth\");\n      const isPublicAsset =\n        nextUrl.pathname.startsWith(\"/_next\") ||\n        nextUrl.pathname.startsWith(\"/favicon\");\n\n      // Разрешаем публичные роуты\n      if (isApiAuth || isPublicAsset) {\n        return true;\n      }\n\n      // Редирект на дашборд если уже авторизован и пытается зайти на логин\n      if (isLoginPage) {\n        if (isLoggedIn) {\n          return Response.redirect(new URL(\"/dashboard\", nextUrl));\n        }\n        return true;\n      }\n\n      // Требуем авторизацию для остальных страниц\n      return isLoggedIn;\n    },\n  },\n};\n"],"names":[],"mappings":";;;;AAIO,MAAM,aAA6B;IACxC,OAAO;QACL,QAAQ;IACV;IACA,WAAW,EAAE;IACb,WAAW;QACT,YAAW,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE;YACvC,MAAM,aAAa,CAAC,CAAC,MAAM;YAC3B,MAAM,cAAc,QAAQ,QAAQ,KAAK;YACzC,MAAM,YAAY,QAAQ,QAAQ,CAAC,UAAU,CAAC;YAC9C,MAAM,gBACJ,QAAQ,QAAQ,CAAC,UAAU,CAAC,aAC5B,QAAQ,QAAQ,CAAC,UAAU,CAAC;YAE9B,4BAA4B;YAC5B,IAAI,aAAa,eAAe;gBAC9B,OAAO;YACT;YAEA,qEAAqE;YACrE,IAAI,aAAa;gBACf,IAAI,YAAY;oBACd,OAAO,SAAS,QAAQ,CAAC,IAAI,IAAI,cAAc;gBACjD;gBACA,OAAO;YACT;YAEA,4CAA4C;YAC5C,OAAO;QACT;IACF;AACF"}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import NextAuth from \"next-auth\";\nimport { authConfig } from \"@/lib/auth.config\";\n\nconst { auth } = NextAuth(authConfig);\n\n// Next.js требует именованный экспорт middleware\nexport const middleware = auth;\n\nexport const config = {\n  matcher: [\"/((?!_next/static|_next/image|favicon.ico).*)\"],\n};\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,wKAAQ,EAAC,kJAAU;AAG7B,MAAM,aAAa;AAEnB,MAAM,SAAS;IACpB,SAAS;QAAC;KAAgD;AAC5D"}}]
}